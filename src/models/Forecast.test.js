import { Forecast } from "models";

describe("Forecast", () => {
  it("format data", async () => {
    const data = {
      cod: "200",
      message: 0,
      cnt: 32,
      list: [
        {
          dt: 1624989600,
          main: {
            temp: 28.01,
            feels_like: 33.6,
            temp_min: 26.95,
            temp_max: 28.01,
            pressure: 1009,
            sea_level: 1009,
            grnd_level: 1008,
            humidity: 89,
            temp_kf: 1.06,
          },
          weather: [
            {
              id: 802,
              main: "Clouds",
              description: "scattered clouds",
              icon: "03n",
            },
          ],
          clouds: { all: 40 },
          wind: { speed: 2.17, deg: 208, gust: 5.27 },
          visibility: 10000,
          pop: 0.41,
          sys: { pod: "n" },
          dt_txt: "2021-06-29 18:00:00",
        },
        {
          dt: 1625000400,
          main: {
            temp: 27.39,
            feels_like: 31.61,
            temp_min: 26.14,
            temp_max: 27.39,
            pressure: 1009,
            sea_level: 1009,
            grnd_level: 1007,
            humidity: 88,
            temp_kf: 1.25,
          },
          weather: [
            { id: 500, main: "Rain", description: "light rain", icon: "10n" },
          ],
          clouds: { all: 50 },
          wind: { speed: 2.04, deg: 226, gust: 5.2 },
          visibility: 10000,
          pop: 0.47,
          rain: { "3h": 0.25 },
          sys: { pod: "n" },
          dt_txt: "2021-06-29 21:00:00",
        },
        {
          dt: 1625011200,
          main: {
            temp: 27.3,
            feels_like: 30.99,
            temp_min: 26.94,
            temp_max: 27.3,
            pressure: 1009,
            sea_level: 1009,
            grnd_level: 1009,
            humidity: 85,
            temp_kf: 0.36,
          },
          weather: [
            { id: 500, main: "Rain", description: "light rain", icon: "10d" },
          ],
          clouds: { all: 63 },
          wind: { speed: 1.76, deg: 202, gust: 3.7 },
          visibility: 10000,
          pop: 0.83,
          rain: { "3h": 1.23 },
          sys: { pod: "d" },
          dt_txt: "2021-06-30 00:00:00",
        },
        {
          dt: 1625022000,
          main: {
            temp: 30.2,
            feels_like: 35.03,
            temp_min: 30.2,
            temp_max: 30.2,
            pressure: 1010,
            sea_level: 1010,
            grnd_level: 1010,
            humidity: 68,
            temp_kf: 0,
          },
          weather: [
            { id: 500, main: "Rain", description: "light rain", icon: "10d" },
          ],
          clouds: { all: 100 },
          wind: { speed: 3.29, deg: 238, gust: 4.91 },
          visibility: 10000,
          pop: 0.79,
          rain: { "3h": 1.13 },
          sys: { pod: "d" },
          dt_txt: "2021-06-30 03:00:00",
        },
        {
          dt: 1625032800,
          main: {
            temp: 34.29,
            feels_like: 37.69,
            temp_min: 34.29,
            temp_max: 34.29,
            pressure: 1008,
            sea_level: 1008,
            grnd_level: 1007,
            humidity: 46,
            temp_kf: 0,
          },
          weather: [
            {
              id: 804,
              main: "Clouds",
              description: "overcast clouds",
              icon: "04d",
            },
          ],
          clouds: { all: 98 },
          wind: { speed: 3.27, deg: 252, gust: 3.87 },
          visibility: 10000,
          pop: 0.64,
          sys: { pod: "d" },
          dt_txt: "2021-06-30 06:00:00",
        },
        {
          dt: 1625043600,
          main: {
            temp: 32.69,
            feels_like: 36.52,
            temp_min: 32.69,
            temp_max: 32.69,
            pressure: 1005,
            sea_level: 1005,
            grnd_level: 1005,
            humidity: 53,
            temp_kf: 0,
          },
          weather: [
            {
              id: 804,
              main: "Clouds",
              description: "overcast clouds",
              icon: "04d",
            },
          ],
          clouds: { all: 94 },
          wind: { speed: 3.71, deg: 191, gust: 4.49 },
          visibility: 10000,
          pop: 0.43,
          sys: { pod: "d" },
          dt_txt: "2021-06-30 09:00:00",
        },
        {
          dt: 1625054400,
          main: {
            temp: 29.02,
            feels_like: 32.77,
            temp_min: 29.02,
            temp_max: 29.02,
            pressure: 1007,
            sea_level: 1007,
            grnd_level: 1007,
            humidity: 70,
            temp_kf: 0,
          },
          weather: [
            { id: 500, main: "Rain", description: "light rain", icon: "10n" },
          ],
          clouds: { all: 81 },
          wind: { speed: 3.48, deg: 175, gust: 7.15 },
          visibility: 10000,
          pop: 0.39,
          rain: { "3h": 0.21 },
          sys: { pod: "n" },
          dt_txt: "2021-06-30 12:00:00",
        },
        {
          dt: 1625065200,
          main: {
            temp: 27.48,
            feels_like: 30.36,
            temp_min: 27.48,
            temp_max: 27.48,
            pressure: 1009,
            sea_level: 1009,
            grnd_level: 1008,
            humidity: 76,
            temp_kf: 0,
          },
          weather: [
            {
              id: 803,
              main: "Clouds",
              description: "broken clouds",
              icon: "04n",
            },
          ],
          clouds: { all: 75 },
          wind: { speed: 3.17, deg: 205, gust: 8.08 },
          visibility: 10000,
          pop: 0.16,
          sys: { pod: "n" },
          dt_txt: "2021-06-30 15:00:00",
        },
        {
          dt: 1625076000,
          main: {
            temp: 26.57,
            feels_like: 26.57,
            temp_min: 26.57,
            temp_max: 26.57,
            pressure: 1008,
            sea_level: 1008,
            grnd_level: 1008,
            humidity: 82,
            temp_kf: 0,
          },
          weather: [
            {
              id: 803,
              main: "Clouds",
              description: "broken clouds",
              icon: "04n",
            },
          ],
          clouds: { all: 80 },
          wind: { speed: 2.25, deg: 230, gust: 7.13 },
          visibility: 10000,
          pop: 0.19,
          sys: { pod: "n" },
          dt_txt: "2021-06-30 18:00:00",
        },
        {
          dt: 1625086800,
          main: {
            temp: 25.91,
            feels_like: 26.78,
            temp_min: 25.91,
            temp_max: 25.91,
            pressure: 1008,
            sea_level: 1008,
            grnd_level: 1007,
            humidity: 85,
            temp_kf: 0,
          },
          weather: [
            {
              id: 803,
              main: "Clouds",
              description: "broken clouds",
              icon: "04n",
            },
          ],
          clouds: { all: 63 },
          wind: { speed: 1.73, deg: 200, gust: 4.23 },
          visibility: 10000,
          pop: 0.47,
          sys: { pod: "n" },
          dt_txt: "2021-06-30 21:00:00",
        },
        {
          dt: 1625097600,
          main: {
            temp: 27.32,
            feels_like: 30.58,
            temp_min: 27.32,
            temp_max: 27.32,
            pressure: 1009,
            sea_level: 1009,
            grnd_level: 1009,
            humidity: 81,
            temp_kf: 0,
          },
          weather: [
            { id: 500, main: "Rain", description: "light rain", icon: "10d" },
          ],
          clouds: { all: 66 },
          wind: { speed: 1.97, deg: 212, gust: 3.65 },
          visibility: 10000,
          pop: 0.49,
          rain: { "3h": 0.23 },
          sys: { pod: "d" },
          dt_txt: "2021-07-01 00:00:00",
        },
        {
          dt: 1625108400,
          main: {
            temp: 31.86,
            feels_like: 36.17,
            temp_min: 31.86,
            temp_max: 31.86,
            pressure: 1009,
            sea_level: 1009,
            grnd_level: 1009,
            humidity: 58,
            temp_kf: 0,
          },
          weather: [
            { id: 500, main: "Rain", description: "light rain", icon: "10d" },
          ],
          clouds: { all: 96 },
          wind: { speed: 2.81, deg: 231, gust: 3.71 },
          visibility: 10000,
          pop: 0.21,
          rain: { "3h": 0.17 },
          sys: { pod: "d" },
          dt_txt: "2021-07-01 03:00:00",
        },
        {
          dt: 1625119200,
          main: {
            temp: 35.26,
            feels_like: 38.68,
            temp_min: 35.26,
            temp_max: 35.26,
            pressure: 1006,
            sea_level: 1006,
            grnd_level: 1006,
            humidity: 43,
            temp_kf: 0,
          },
          weather: [
            {
              id: 804,
              main: "Clouds",
              description: "overcast clouds",
              icon: "04d",
            },
          ],
          clouds: { all: 95 },
          wind: { speed: 3.48, deg: 249, gust: 4.04 },
          visibility: 10000,
          pop: 0.04,
          sys: { pod: "d" },
          dt_txt: "2021-07-01 06:00:00",
        },
        {
          dt: 1625130000,
          main: {
            temp: 32.68,
            feels_like: 36.5,
            temp_min: 32.68,
            temp_max: 32.68,
            pressure: 1005,
            sea_level: 1005,
            grnd_level: 1005,
            humidity: 53,
            temp_kf: 0,
          },
          weather: [
            { id: 500, main: "Rain", description: "light rain", icon: "10d" },
          ],
          clouds: { all: 99 },
          wind: { speed: 3.22, deg: 227, gust: 4.57 },
          visibility: 10000,
          pop: 0.32,
          rain: { "3h": 0.13 },
          sys: { pod: "d" },
          dt_txt: "2021-07-01 09:00:00",
        },
        {
          dt: 1625140800,
          main: {
            temp: 30.14,
            feels_like: 33.96,
            temp_min: 30.14,
            temp_max: 30.14,
            pressure: 1007,
            sea_level: 1007,
            grnd_level: 1006,
            humidity: 64,
            temp_kf: 0,
          },
          weather: [
            {
              id: 804,
              main: "Clouds",
              description: "overcast clouds",
              icon: "04n",
            },
          ],
          clouds: { all: 97 },
          wind: { speed: 2.69, deg: 186, gust: 5.48 },
          visibility: 10000,
          pop: 0.35,
          sys: { pod: "n" },
          dt_txt: "2021-07-01 12:00:00",
        },
        {
          dt: 1625151600,
          main: {
            temp: 27.65,
            feels_like: 30.72,
            temp_min: 27.65,
            temp_max: 27.65,
            pressure: 1009,
            sea_level: 1009,
            grnd_level: 1008,
            humidity: 76,
            temp_kf: 0,
          },
          weather: [
            {
              id: 803,
              main: "Clouds",
              description: "broken clouds",
              icon: "04n",
            },
          ],
          clouds: { all: 52 },
          wind: { speed: 2.7, deg: 204, gust: 6.47 },
          visibility: 10000,
          pop: 0.08,
          sys: { pod: "n" },
          dt_txt: "2021-07-01 15:00:00",
        },
        {
          dt: 1625162400,
          main: {
            temp: 26.58,
            feels_like: 26.58,
            temp_min: 26.58,
            temp_max: 26.58,
            pressure: 1008,
            sea_level: 1008,
            grnd_level: 1008,
            humidity: 81,
            temp_kf: 0,
          },
          weather: [
            {
              id: 803,
              main: "Clouds",
              description: "broken clouds",
              icon: "04n",
            },
          ],
          clouds: { all: 65 },
          wind: { speed: 2.45, deg: 203, gust: 6.32 },
          visibility: 10000,
          pop: 0.12,
          sys: { pod: "n" },
          dt_txt: "2021-07-01 18:00:00",
        },
        {
          dt: 1625173200,
          main: {
            temp: 26.14,
            feels_like: 26.14,
            temp_min: 26.14,
            temp_max: 26.14,
            pressure: 1008,
            sea_level: 1008,
            grnd_level: 1008,
            humidity: 83,
            temp_kf: 0,
          },
          weather: [
            {
              id: 804,
              main: "Clouds",
              description: "overcast clouds",
              icon: "04n",
            },
          ],
          clouds: { all: 99 },
          wind: { speed: 1.92, deg: 208, gust: 4.88 },
          visibility: 10000,
          pop: 0.2,
          sys: { pod: "n" },
          dt_txt: "2021-07-01 21:00:00",
        },
        {
          dt: 1625184000,
          main: {
            temp: 27.51,
            feels_like: 30.78,
            temp_min: 27.51,
            temp_max: 27.51,
            pressure: 1010,
            sea_level: 1010,
            grnd_level: 1009,
            humidity: 79,
            temp_kf: 0,
          },
          weather: [
            {
              id: 803,
              main: "Clouds",
              description: "broken clouds",
              icon: "04d",
            },
          ],
          clouds: { all: 66 },
          wind: { speed: 2.11, deg: 218, gust: 4.13 },
          visibility: 10000,
          pop: 0.17,
          sys: { pod: "d" },
          dt_txt: "2021-07-02 00:00:00",
        },
        {
          dt: 1625194800,
          main: {
            temp: 32.71,
            feels_like: 36.86,
            temp_min: 32.71,
            temp_max: 32.71,
            pressure: 1010,
            sea_level: 1010,
            grnd_level: 1009,
            humidity: 54,
            temp_kf: 0,
          },
          weather: [
            { id: 500, main: "Rain", description: "light rain", icon: "10d" },
          ],
          clouds: { all: 16 },
          wind: { speed: 3.05, deg: 232, gust: 3.87 },
          visibility: 10000,
          pop: 0.21,
          rain: { "3h": 0.12 },
          sys: { pod: "d" },
          dt_txt: "2021-07-02 03:00:00",
        },
        {
          dt: 1625205600,
          main: {
            temp: 35.45,
            feels_like: 38.39,
            temp_min: 35.45,
            temp_max: 35.45,
            pressure: 1006,
            sea_level: 1006,
            grnd_level: 1006,
            humidity: 41,
            temp_kf: 0,
          },
          weather: [
            { id: 500, main: "Rain", description: "light rain", icon: "10d" },
          ],
          clouds: { all: 36 },
          wind: { speed: 3.63, deg: 256, gust: 3.71 },
          visibility: 10000,
          pop: 0.31,
          rain: { "3h": 0.1 },
          sys: { pod: "d" },
          dt_txt: "2021-07-02 06:00:00",
        },
        {
          dt: 1625216400,
          main: {
            temp: 32.33,
            feels_like: 36.34,
            temp_min: 32.33,
            temp_max: 32.33,
            pressure: 1005,
            sea_level: 1005,
            grnd_level: 1005,
            humidity: 55,
            temp_kf: 0,
          },
          weather: [
            { id: 500, main: "Rain", description: "light rain", icon: "10d" },
          ],
          clouds: { all: 93 },
          wind: { speed: 2.01, deg: 211, gust: 3.24 },
          visibility: 10000,
          pop: 0.32,
          rain: { "3h": 0.13 },
          sys: { pod: "d" },
          dt_txt: "2021-07-02 09:00:00",
        },
        {
          dt: 1625227200,
          main: {
            temp: 29.73,
            feels_like: 33.73,
            temp_min: 29.73,
            temp_max: 29.73,
            pressure: 1007,
            sea_level: 1007,
            grnd_level: 1006,
            humidity: 67,
            temp_kf: 0,
          },
          weather: [
            { id: 500, main: "Rain", description: "light rain", icon: "10n" },
          ],
          clouds: { all: 63 },
          wind: { speed: 2.2, deg: 175, gust: 3.77 },
          visibility: 10000,
          pop: 0.28,
          rain: { "3h": 0.15 },
          sys: { pod: "n" },
          dt_txt: "2021-07-02 12:00:00",
        },
        {
          dt: 1625238000,
          main: {
            temp: 28.64,
            feels_like: 31.96,
            temp_min: 28.64,
            temp_max: 28.64,
            pressure: 1009,
            sea_level: 1009,
            grnd_level: 1009,
            humidity: 70,
            temp_kf: 0,
          },
          weather: [
            {
              id: 803,
              main: "Clouds",
              description: "broken clouds",
              icon: "04n",
            },
          ],
          clouds: { all: 56 },
          wind: { speed: 3.15, deg: 229, gust: 6.63 },
          visibility: 10000,
          pop: 0.31,
          sys: { pod: "n" },
          dt_txt: "2021-07-02 15:00:00",
        },
        {
          dt: 1625248800,
          main: {
            temp: 26.87,
            feels_like: 29.28,
            temp_min: 26.87,
            temp_max: 26.87,
            pressure: 1008,
            sea_level: 1008,
            grnd_level: 1008,
            humidity: 78,
            temp_kf: 0,
          },
          weather: [
            {
              id: 802,
              main: "Clouds",
              description: "scattered clouds",
              icon: "03n",
            },
          ],
          clouds: { all: 48 },
          wind: { speed: 3.02, deg: 202, gust: 7.89 },
          visibility: 10000,
          pop: 0.29,
          sys: { pod: "n" },
          dt_txt: "2021-07-02 18:00:00",
        },
        {
          dt: 1625259600,
          main: {
            temp: 25.82,
            feels_like: 26.65,
            temp_min: 25.82,
            temp_max: 25.82,
            pressure: 1008,
            sea_level: 1008,
            grnd_level: 1008,
            humidity: 84,
            temp_kf: 0,
          },
          weather: [
            { id: 800, main: "Clear", description: "clear sky", icon: "01n" },
          ],
          clouds: { all: 9 },
          wind: { speed: 2.12, deg: 188, gust: 4.97 },
          visibility: 10000,
          pop: 0.25,
          sys: { pod: "n" },
          dt_txt: "2021-07-02 21:00:00",
        },
        {
          dt: 1625270400,
          main: {
            temp: 27.24,
            feels_like: 30.07,
            temp_min: 27.24,
            temp_max: 27.24,
            pressure: 1010,
            sea_level: 1010,
            grnd_level: 1009,
            humidity: 78,
            temp_kf: 0,
          },
          weather: [
            {
              id: 803,
              main: "Clouds",
              description: "broken clouds",
              icon: "04d",
            },
          ],
          clouds: { all: 54 },
          wind: { speed: 2.68, deg: 210, gust: 5.9 },
          visibility: 10000,
          pop: 0.24,
          sys: { pod: "d" },
          dt_txt: "2021-07-03 00:00:00",
        },
        {
          dt: 1625281200,
          main: {
            temp: 32.57,
            feels_like: 36.27,
            temp_min: 32.57,
            temp_max: 32.57,
            pressure: 1009,
            sea_level: 1009,
            grnd_level: 1009,
            humidity: 53,
            temp_kf: 0,
          },
          weather: [
            {
              id: 802,
              main: "Clouds",
              description: "scattered clouds",
              icon: "03d",
            },
          ],
          clouds: { all: 46 },
          wind: { speed: 3.86, deg: 250, gust: 4.5 },
          visibility: 10000,
          pop: 0.09,
          sys: { pod: "d" },
          dt_txt: "2021-07-03 03:00:00",
        },
        {
          dt: 1625292000,
          main: {
            temp: 32.96,
            feels_like: 35.93,
            temp_min: 32.96,
            temp_max: 32.96,
            pressure: 1006,
            sea_level: 1006,
            grnd_level: 1006,
            humidity: 49,
            temp_kf: 0,
          },
          weather: [
            {
              id: 803,
              main: "Clouds",
              description: "broken clouds",
              icon: "04d",
            },
          ],
          clouds: { all: 68 },
          wind: { speed: 3.5, deg: 253, gust: 4.27 },
          visibility: 10000,
          pop: 0.04,
          sys: { pod: "d" },
          dt_txt: "2021-07-03 06:00:00",
        },
        {
          dt: 1625302800,
          main: {
            temp: 32.14,
            feels_like: 35.66,
            temp_min: 32.14,
            temp_max: 32.14,
            pressure: 1006,
            sea_level: 1006,
            grnd_level: 1005,
            humidity: 54,
            temp_kf: 0,
          },
          weather: [
            {
              id: 804,
              main: "Clouds",
              description: "overcast clouds",
              icon: "04d",
            },
          ],
          clouds: { all: 100 },
          wind: { speed: 3.37, deg: 253, gust: 5.17 },
          visibility: 10000,
          pop: 0.03,
          sys: { pod: "d" },
          dt_txt: "2021-07-03 09:00:00",
        },
        {
          dt: 1625313600,
          main: {
            temp: 30,
            feels_like: 33.66,
            temp_min: 30,
            temp_max: 30,
            pressure: 1007,
            sea_level: 1007,
            grnd_level: 1006,
            humidity: 64,
            temp_kf: 0,
          },
          weather: [
            {
              id: 804,
              main: "Clouds",
              description: "overcast clouds",
              icon: "04n",
            },
          ],
          clouds: { all: 98 },
          wind: { speed: 2.94, deg: 234, gust: 6.48 },
          visibility: 10000,
          pop: 0.04,
          sys: { pod: "n" },
          dt_txt: "2021-07-03 12:00:00",
        },
        {
          dt: 1625324400,
          main: {
            temp: 27.76,
            feels_like: 30.83,
            temp_min: 27.76,
            temp_max: 27.76,
            pressure: 1009,
            sea_level: 1009,
            grnd_level: 1008,
            humidity: 75,
            temp_kf: 0,
          },
          weather: [
            {
              id: 803,
              main: "Clouds",
              description: "broken clouds",
              icon: "04n",
            },
          ],
          clouds: { all: 51 },
          wind: { speed: 2.91, deg: 229, gust: 6.6 },
          visibility: 10000,
          pop: 0.33,
          sys: { pod: "n" },
          dt_txt: "2021-07-03 15:00:00",
        },
      ],
      city: {
        id: 1566083,
        name: "Ho Chi Minh City",
        coord: { lat: 10.75, lon: 106.6667 },
        country: "VN",
        population: 1000000,
        timezone: 25200,
        sunrise: 1625006069,
        sunset: 1625051950,
      },
    };
    const formatData = new Forecast(data);
    expect(formatData).toEqual({
      city: "Ho Chi Minh City",
      list: [
        { date: "06/29/2021", day: "Tuesday", tempMax: 28.01, tempMin: 26.14 },
        {
          date: "06/30/2021",
          day: "Wednesday",
          tempMax: 34.29,
          tempMin: 25.91,
        },
        { date: "07/01/2021", day: "Thursday", tempMax: 35.26, tempMin: 26.14 },
        { date: "07/02/2021", day: "Friday", tempMax: 35.45, tempMin: 25.82 },
        { date: "07/03/2021", day: "Saturday", tempMax: 32.96, tempMin: 27.24 },
      ],
    });
  });
});